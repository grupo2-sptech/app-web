<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hardware Security</title>
  <link rel="stylesheet" href="./css/dashboards.css" />
  <link rel="stylesheet" href="./assets/icons/style.css" />
  <script src="./js/dashboard.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/sessao.js"></script>
</head>

<body
  onload="validarSessao(), listar(sessionStorage.SETOR, 'inp_maquina', sessionStorage.ACESSO_TOTAL),listarMaquinas(sessionStorage.SETOR, sessionStorage.ACESSO_TOTAL)">
  <!-- menu lateral -->
  <div id="menu" class="menuLateral">
    <a style="color: white; cursor: pointer">
      <div onclick="sumirMenu()" class="logo">
        <img id="logotipo" src="assets/icon/seguranca.png" alt="" />
      </div>
    </a>
    <div id="itens_menu" class="itens_menu">

      <div style="color: white; font-size: 12px; margin-top: -10%; text-align: center;" class="nome-acao">Bem Vindo!
        <br>
        <span id="nome_usuario"></span>
      </div>
      <div style="height: 60%; justify-content: space-around; display: flex; flex-direction: column;">
        <a class="itensDaNav" href="#">
          <div class="icon-stats-dots ico"></div>
          <span class="nome-acao">Dashboard</span>
        </a>
        <a class="itensDaNav" href="./dashboard/gerenciarUsuarios.html">
          <div class="icon-user ico"></div>
          <samp class="nome-acao">Perfil</samp>
        </a>
        <a class="itensDaNav" href="./dashboard/gerenciarUsuarios.html">
          <div class="icon-user-plus ico"></div>
          <samp style="text-align: center;" class="nome-acao">Adicionar<br>Usuário</samp>
        </a>
        <a class="itensDaNav" href="./dashboard/gerenciarUsuarios.html">
          <div style="font-weight: bold;" class="icon-document-forbidden1 ico"></div>
          <samp style="text-align: center;" class="nome-acao">Lista de Bloqueios</samp>
        </a>
        <a class="itensDaNav">
          <div class="icon-support_agent ico"></div>
          <samp class="nome-acao">Suporte</samp>
        </a>
      </div>

      <a onclick="limparSessao()" class="itensDaNav">
        <div class="icon-log-in ico"></div>
        <samp class="nome-acao">Sair</samp>
      </a>
    </div>
  </div>
  <!-- DashBoard -->
  <main id="tela_principal" class="dashboard">
    <!-- Filtro -->
    <div class="superior-filtro">
      <div class="inputs">
        Selecione a máquina
        <select class="input_filtro" id="inp_maquina">
          <option value="" disabled selected hidden>Nome da máquina</option>
        </select>
      </div>
      <div id="campo_setor" class="inputs">
        Selecione o Setor
        <select class="input_filtro" id="inp_setor">
          <option value="" disabled selected hidden>Setor</option>
        </select>
      </div>

      <div class="icon-search"></div>
    </div>

    <!-- Lista Maquinas -->
    <div class="central-maquinas">

      <div class="titulo-maquinas">
        <h1 id="titulo_setor">Maquinas do setor de </h1>
        <button class="button-add-maquinas">Adicionar maquinas</button>
      </div>
      <div id="div_funcaoMaquina" class="lista-maquinas">
      </div>
    </div>

    <div id="amostragem" class="amostragem">

      <div class="graficos">
        <span style="margin: 1%; position: absolute; font-size: 12px; font-weight: bold;"
          id="nome_usuario_maquina"></span>
        <div class="pesquisa">
          <div class="input_data">
            Pesquise o histórico de uso dessa maquina<br>
            Insira uma data
            <div style="display: flex; gap: 1rem; height: 100%; justify-content: center;">
              <input style="height: 100%;" id="filtro_date" type="date" />
              <div onclick="buscarPorData()" class="icon-search"></div>
            </div>
          </div>
        </div>
        <div style="display: flex;">
          <div class="graficos_esquerda">
            <h3 id="uso_cpu">Uso de CPU</h3>
            <div class="grafico">
              <canvas id="myChartCpu"></canvas>
            </div>
            <h3 id="uso_ram">Uso de Memória Ram</h3>
            <div class="grafico">
              <canvas id="myChartRam"></canvas>
            </div>
          </div>
          <div class="grafico_direita">
            <div class="grafico">
              <h3>Volume do disco</h3>
              <canvas id="myChartDisco"></canvas>
            </div>
          </div>
        </div>
      </div>
      <div id="detathes" class="detalhes_maquinas">
        <div class="detalhes-hardware janelas-e-detalhamentos-hardware">
          <h3 class="texto-info-maquina">
            Informações da maquina
          </h3>

          <b><span>Informações do processador</span></b>
          <span id="modelo">Modelo do processador: </span>
          <span id="fabricante">Fabricante: </span>
          <br>
          <b><span>Informações da ram</span></b>
          <span id="ram">Volume total de Ram: </span>
          <br>
          <b><span>Informações do Disco</span></b>
          <span id="disco">Modelo: </span>
          <span id="volume">Volume total: </span>
          <br>
          <b><span>Informações do sistema operacional</span></b>
          <span id="sistema">Sistema operacional: </span>
          <span id="arquitetura">Arquitetura: </span>
        </div>
        <div class="detalhes-janelas janelas-e-detalhamentos-hardware">
          <div class="detalhes-janelas-bloqueios"></div>
          <div class="detalhes-janelas-imput">
            <select name="" id="imput-janelas">
              <option value="">Bloquear</option>
              <option value="">Desbloquear</option>
            </select>
          </div>
        </div>
      </div>
    </div>



    <div id="lista-processos" class="tela-lista-processos">
      <div class="barra-lista">
        <samp style="color: white; margin-left: 10px;">Lista de Processos Bloqueados no setor</samp>
        <div class="icon-plus"></div>
      </div>
      <div class="lista">
      </div>
    </div>


    <div style="display: none;" id="pop-add-maquinas" class="tela-lista-processos">
      <div class="barra-lista">
        <samp style="color: white; margin-left: 10px;">Cadastre sua máquina</samp>
        <div class="icon-plus"></div>
      </div>
      <div class="pop-maquina">
        <div class="form">
          <div class="form-element">
            <label for="nome">Nome da máquina</label>
            <input type="text" id="nome" placeholder="Insira o nome da máquina">
          </div>
          <div class="form-element">
            <label for="modelo">Modelo da máquina</label>
            <input type="text" id="modelo" placeholder="Insira o modelo da máquina">
          </div>
          <div class="form-element">
            <button class="">Confirmar</button>
          </div>
        </div>
      </div>
    </div>

  </main>
</body>

</html>

<script>

  let inputDate = document.getElementById("filtro_date");
  let today = new Date().toISOString().split("T")[0];
  inputDate.value = today;

  let acesso_total = sessionStorage.ACESSO_TOTAL
  let nome = sessionStorage.NOME_USUARIO

  nome_usuario.innerHTML = nome;
  let campo_setor = document.getElementById('campo_setor')
  if (acesso_total == 1) {
    campo_setor.style.display = 'flex'
  }

  const myChartCpu = new Chart(document.getElementById("myChartCpu"), config);
  const myChartRam = new Chart(document.getElementById("myChartRam"), config1);
  const myChartDisco = new Chart(document.getElementById("myChartDisco"), config2);

</script>