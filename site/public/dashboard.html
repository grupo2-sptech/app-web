<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hardware Security</title>
  <link rel="stylesheet" href="./css/dashboards.css" />
  <link rel="stylesheet" href="./assets/icons/style.css" />
  <script src="./js/dashboard.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/sessao.js"></script>
</head>

<body
  onload="validarSessao(), listar(sessionStorage.SETOR, 'inp_maquina', sessionStorage.ACESSO_TOTAL),listarMaquinas(sessionStorage.SETOR, sessionStorage.ACESSO_TOTAL)">
  <!-- menu lateral -->
  <div id="menu" class="menuLateral">
    <a style="color: white; cursor: pointer">
      <div onclick="sumirMenu()" class="logo">
        <img id="logotipo" src="assets/icon/seguranca.png" alt="" />

        <!--    <img id="seta" src="https://static.wixstatic.com/media/078327_a04336273e6040239474eaaee38a18fe~mv2.gif"
            alt=""> -->
        <!--        <img  id="seta" src="https://sindiconet-files.s3.amazonaws.com/GoogleWebStories/como-funciona-energia-fotovoltaica/assets/5.gif" alt="">
 -->
      </div>
    </a>
    <div id="itens_menu" class="itens_menu">
      <div style="color: white; font-size: 12px; text-align: center;" class="nome-acao">Bem Vindo! <br><span
          id="nome_usuario"></span></div>
      <a onmouseover="mostrarAcao('dashbord')" onmouseout="ocultarAcao('dashbord')" id="link_dashboard" href="#"
        class="itensDaNav">
        <div class="icon-stats-dots ico"></div>
        <span class="nome-acao">Dashboard</span>
        <div id="dashbord" class="nome-acao-oculta">Dashboard</div>
      </a>
      <a onmouseover="mostrarAcao('perfil')" onmouseout="ocultarAcao('perfil')" class="itensDaNav">
        <div class="icon-user ico"></div>
        <samp class="nome-acao">Perfil</samp>
        <div id="perfil" class="nome-acao-oculta">Perfil</div>
      </a>
      <a onmouseover="mostrarAcao('suporte')" onmouseout="ocultarAcao('suporte')" onmouseover="mostrarAcao('suporte')"
        onmouseout="ocultarAcao('suporte')" class="itensDaNav">
        <div class="icon-support_agent ico"></div>
        <samp class="nome-acao">Suporte</samp>
        <div id="suporte" class="nome-acao-oculta">Suporte</div>
      </a>
      <a onmouseover="mostrarAcao('sair')" onmouseout="ocultarAcao('sair')" onclick="limparSessao()" class="itensDaNav">
        <div class="icon-log-in ico"></div>
        <samp class="nome-acao">Sair</samp>
        <div id="sair" class="nome-acao-oculta">Sair</div>
      </a>
    </div>
  </div>
  <!-- DashBoard -->
  <main id="tela_principal" class="dashboard">
    <!-- Filtro -->
    <div class="superior-filtro">
      <div class="inputs">
        Selecione o Funcionário
        <select class="input_filtro" id="inp_maquina">
          <option value="" disabled selected hidden>Funcionário</option>
        </select>
      </div>
      <div id="campo_setor" class="inputs">
        Selecione o Setor
        <select class="input_filtro" id="inp_setor">
          <option value="" disabled selected hidden>Setor</option>
        </select>
      </div>

      <div class="icon-search"></div>
    </div>

    <!-- Lista Maquinas -->
    <div class="central-maquinas">

      <div class="titulo-maquinas">
        <h1 id="titulo_setor">Maquinas do setor de </h1>
      </div>


      <div id="div_funcaoMaquina" class="lista-maquinas">

      </div>
    </div>

    <div id="amostragem" class="amostragem">

      <div class="graficos">
        <span style="margin: 1%; position: absolute; font-size: 12px; font-weight: bold;"
          id="nome_usuario_maquina"></span>
        <div class="pesquisa">
          <div class="input_data">
            Pesquise o histórico de uso dessa maquina<br>
            Insira uma data
            <div style="display: flex; gap: 1rem; height: 100%; justify-content: center;">
              <input style="height: 100%;" id="filtro_date" type="date" />
              <div onclick="buscarPorData()" class="icon-search"></div>
            </div>
          </div>
        </div>
        <div style="display: flex;">
          <div class="graficos_esquerda">
            <h3 id="uso_cpu">Uso de CPU</h3>
            <div class="grafico">
              <canvas id="myChartCpu"></canvas>
            </div>
            <h3 id="uso_ram">Uso de Memória Ram</h3>
            <div class="grafico">
              <canvas id="myChartRam"></canvas>
            </div>
          </div>
          <div class="grafico_direita">
            <div class="grafico">
              <h3>Volume do disco</h3>
              <canvas id="myChartDisco"></canvas>
            </div>
          </div>
        </div>
      </div>
      <div class="detalhes_maquinas">
        <div class="detalhes-hardware janelas-e-detalhamentos-hardware">
          <h3 class="texto-info-maquina">
          Informações da maquina
          </h3>
          
          <b><span >Informações do processador</span></b>
          <span id="modelo">Modelo do processador: </span>
          <span id="fabricante">Fabricante: </span>
          <br>
          <b><span>Informações da ram</span></b>
          <span id="ram" >Volume total de Ram: </span>
          <br>
          <b><span>Informações do Disco</span></b>
          <span id="disco" >Modelo: </span>
          <span id="volume">Volume total: </span>
          <br>
          <b><span>Informações do sistema operacional</span></b>
          <span id="sistema">Sistema operacional: </span>
          <span id="arquitetura">Arquitetura: </span>
        </div>
        <div class="detalhes-janelas janelas-e-detalhamentos-hardware"> 
          <div class="detalhes-janelas-bloqueios"></div>
          <div class="detalhes-janelas-imput">
          <select name="" id="imput-janelas">
            <option value="">Bloquear</option>
            <option value="">Desbloquear</option>
          </select>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>

</html>

<script>

  let inputDate = document.getElementById("filtro_date");
  let today = new Date().toISOString().split("T")[0];
  inputDate.value = today;

  let acesso_total = sessionStorage.ACESSO_TOTAL
  let nome = sessionStorage.NOME_USUARIO

  nome_usuario.innerHTML = nome;
  let campo_setor = document.getElementById('campo_setor')
  if (acesso_total == 1) {
    campo_setor.style.display = 'flex'
  }

  const myChartCpu = new Chart(document.getElementById("myChartCpu"), config);
  const myChartRam = new Chart(document.getElementById("myChartRam"), config1);
  const myChartDisco = new Chart(document.getElementById("myChartDisco"), config2);

</script>